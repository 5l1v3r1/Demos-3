<html>
<head>
	<meta charset="utf-8">
	<title>Utilization of responsive images - srcset, sizes and picture</title>
	<meta name="og:title" content="Responsive images">
	<meta name="description" content="Show how to enhance your example with responsive images">
	<meta name="keywords" content="picture, srcset, sizes, responsive images">
	<meta name="author" content="Greg Whitworth">
	<link rel="stylesheet" type="text/css" href="https://edgeportal.blob.core.windows.net/media/demotemplate.css">
	<link rel="stylesheet" type="text/css" href="styles/demo.css">
</head>

<body>

	<!-- DEMO INTRO -->
	<header class="section section--page-intro demo__header">
		<div class="container">
			<div class="section__header">
				<h1>Utilization of responsive images</h1>
			</div>
		</div>
	</header>
			
	<section class="section section--image-banner">
		<div class="image-banner__background">
			<img src="imgs/blog-hero-xlarge.jpg" srcset="imgs/blog-hero-small.jpg 625w, imgs/blog-hero-med.jpg 1250w, imgs/blog-hero-xlarge.jpg 2500w" class="image-banner__background__image" alt="Something descriptive" />
		</div>
		<div class="container">
			<div class="tile image-banner__tile">
				<h3 class="tile__heading">Read the blog post</h3>
				<div class="tile__body">
					<p>If you're new to responsive images, you may want to read our in-depth blog post on the various technologies that make up responsive images and how they work under the hood, as well as how to utilize them.</p>
				</div>
				<div class="actions">
					<a href="" class="button" title="Do something">Read the post >></a>
				</div>
			</div>
		</div>
	</section>
			
	<!-- Responsive images section -->
	<section role="region" class="section">
		<div class="container">			
			<p class="subtitle">Why do we need responsive images?</p>
			<img src="imgs/picture-example-devices.jpg" alt="An example of images on multiple devices">
			<p>The suite of technologies that make up responsive images (srcset, sizes, and picture) are all necessary to allow a developer to target the best image for the given device and expected layout. If you don’t have these capabilities then you’ll need to depend on JavaScript to switch out the correct image which results in more image downloads than necessary for the site and slower performance since JavaScript can’t react until the DOM is ready in most cases. With srcset you get the capability to do basic resolution switching, with sizes this provides enhanced resolution switching, and with picture you are provided art direction and image format selection. Let’s start digging into the new technologies to understand how each of these compliment and build upon one another to provide a comprehensive responsive images solution.</p>
					
			<div class="section__body">
				<p class="subtitle">The usecase</p>
				<p>You have a client that is an artist, they want a blog where they provide the story behind the painting and they want as much imagery as possible. So your designer mocks up a blog where the art piece being featured is in the header with the title on top of it. On viewports smaller than 750 pixels wide the hero image becomes like a magazine cover with the image and title filling the viewport. Here is an example wireframe:</p>
				
				<img src="imgs/Wireframe.jpg" alt="A wireframe of the responsive site we'll be building.">
				
				<p>So let’s get started with the basic layout and initially we’ll start with no responsive images so that we can see how they help us out. Let’s see what we have:</p>
				
				<!-- Example 1 -->
				<div class="layout layout--halves">
					<div class="module">
						<p><strong>Live Example</strong></p>
						<div class="picture__example">
							<article>
								<header>
									<img class="hero" src="imgs/hero-xlarge.jpg" alt="A portrait painting of a woman on a couch" />
									<p class="title">Capturing dramatic lighting in portrait painting</p>
								</header>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
							</article>
						</div>
					</div>
					<div class="module">
						<p><strong>Code</strong></p>
						<script src="https://gist.github.com/gregwhitworth/4b6e82d6f6d5d58a984f.js"></script>
					</div>				
				</div>
				
				<p class="subtitle">Improving performance by adding resolution switching</p>
				<p>Now that we have the initial layout, it’s responsive, but some issues do exist that we responsive images can help with. The first issue is that while the image we included will work fine on all devices, it won’t be the best experience for people on a slower connection. The image that we are currently using is 2500x1435 and weighs in at 567KB (this is with 60% quality jpg compression) which is only desirable if you are on a high definition device or a large display. Especially on mobile devices, you want to save memory usage and battery life by limiting the size of the image to what is actually needed. To do this, I have created three additional sizes along with the extra-large version:</p>
				<div class="table--overflow">
					<table>
						<caption>Media Weight</caption>
						<thead>
							<tr>
								<th>Image</th>
								<th>Dimensions</th>
								<th>File Size</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>hero-xlarge.jpg</td>
								<td>2500 x 1435</td>
								<td>567 KB</td>
							</tr>
							<tr>
								<td>hero-large.jpg</td>
								<td>1920 x 912</td>
								<td>235 KB</td>
							</tr>
							<tr>
								<td>hero-med.jpg</td>
								<td>960 x 456</td>
								<td>62 KB</td>
							</tr>
							<tr>
								<td>hero-small.jpg</td>
								<td>480 x 228</td>
								<td>22 KB</td>
							</tr>
						</tbody>
					</table>
				</div>
				
				<!-- Example 2 -->
				<div class="layout layout--halves">
					<div class="module">
						<p><strong>Live Example</strong></p>
						<div class="picture__example">
							<article>
								<header>
									<img class="hero" 
									     src="imgs/hero-xlarge.jpg" 
										 srcset="imgs/hero-small.jpg 480w,
										         imgs/hero-med.jpg 960w,
												 imgs/hero-large.jpg 1920w"
									     alt="A portrait painting of a woman on a couch">
									<p class="title">Capturing dramatic lighting in portrait painting</p>
								</header>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
							</article>
						</div>
					</div>
					<div class="module">
						<p><strong>Code</strong></p>
						<script src="https://gist.github.com/gregwhitworth/feb78cfe6daacd64b501.js"></script>
					</div>
				</div>
				
				<p>We’re starting to get there, we have a responsive site that loads in the necessary image depending on the width of the viewport which gives us better performance but we can do better. By using a better image format we can further reduce the filesize for the browsers that support them. In this example I’ll only be using <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/hh707223(v=vs.85).aspx" target="_blank" title="Overview of JPEG-XR">JPEG-XR</a>, supported by Internet Explorer 9+ and Microsoft Edge, but you should consider compressing to <a href="https://developers.google.com/speed/webp/" target="_blank" title="Overview of WebP media format">WebP</a> and <a href="https://blog.mozilla.org/research/2014/03/05/introducing-the-mozjpeg-project/" target="_blank" title="Overview of MozJPG">MozJPEG</a> depending on your use case. So I’ve created JPEG-XR images for the larger images, now let’s commpare them with the other files:</p>
				
				<div class="table--overflow">
					<table>
						<caption>Media Weight</caption>
						<thead>
							<tr>
								<th>Image</th>
								<th>Dimensions</th>
								<th>File Size</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>hero-xlarge.jpg</td>
								<td>2500 x 1435</td>
								<td>567 KB</td>
							</tr>
							<tr>
								<td>hero-xlarge.jxr</td>
								<td>2500 x 1435</td>
								<td>277 KB</td>
							</tr>
							<tr>
								<td>hero-large.jpg</td>
								<td>1920 x 912</td>
								<td>235 KB</td>
							</tr>
							<tr>
								<td>hero-large.jxr</td>
								<td>1920 x 912</td>
								<td>121 KB</td>
							</tr>
							<tr>
								<td>hero-med.jpg</td>
								<td>960 x 456</td>
								<td>62 KB</td>
							</tr>
							<tr>
								<td>hero-med.jpg</td>
								<td>960 x 456</td>
								<td>42 KB</td>
							</tr>
							<tr>
								<td>hero-small.jpg</td>
								<td>480 x 228</td>
								<td>22 KB</td>
							</tr>
						</tbody>
					</table>
				</div>
				
				
				<!-- Example 3 -->
				<div class="layout layout--halves">
					<div class="module">
						<p><strong>Live Example</strong></p>
						<div class="picture__example">
							<article>
								<header>
									<picture>
										<source type="image/vnd.ms-photo"
										        srcset="imgs/hero-small.jxr 480w,
												        imgs/hero-med.jxr 960w,
														imgs/hero-large.jxr 1920w,
														imgs/hero-xlarge.jxr 2500w">
										<img class="hero" 
											src="imgs/hero-xlarge.jpg" 
											srcset="imgs/hero-small.jpg 480w,
													imgs/hero-med.jpg 960w,
													imgs/hero-large.jpg 1920w"
											alt="A portrait painting of a woman on a couch">
									</picture>
									<p class="title">Capturing dramatic lighting in portrait painting</p>
								</header>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
							</article>
						</div>
					</div>
					<div class="module">
						<p><strong>Code</strong></p>
						<script src="https://gist.github.com/gregwhitworth/1a80a5948d496983d7d4.js"></script>
					</div>
				</div>
				
				<p class="subtitle">Using the media attribute for art direction</p>
				<p>Now that we’ve improved our performance using resolution switching we can now focus on how the image actually looks when the viewport is at various sizes. On desktop viewports the layout works exactly like our wireframe suggested, but once we start getting to smaller viewports you start to see issues where the image gets really small and the headline begins to cover up the image.</p>					
								
				<!-- Example 4 -->
				<div class="layout layout--halves">
					<div class="module">
						<p><strong>Live Example</strong></p>
						<div class="picture__example">
							<article>
								<header>
									<picture>
										<source media="(max-width: 700px) and (orientation: portrait)"
										        srcset="imgs/hero-med-vert.jpg 245w
												        imgs/hero-large-vert.jpg 490w,
												        imgs/hero-xlarge-vert.jpg 980w">
										<source type="image/vnd.ms-photo"
										        srcset="imgs/hero-small.jxr 480w,
												        imgs/hero-med.jxr 960w,
														imgs/hero-large.jxr 1920w,
														imgs/hero-xlarge.jxr 2500w">
										<img class="hero" 
											src="imgs/hero-xlarge.jpg" 
											srcset="imgs/hero-small.jpg 480w,
													imgs/hero-med.jpg 960w,
													imgs/hero-large.jpg 1920w"
											alt="A portrait painting of a woman on a couch">
									</picture>
									<p class="title">Capturing dramatic lighting in portrait painting</p>
								</header>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
							</article>
						</div>
					</div>
					<div class="module">
						<p><strong>Code</strong></p>
						<script src="https://gist.github.com/gregwhitworth/ed8f4db319ba684a5b1a.js"></script>
					</div>				
				</div>
				
				<p>With this code update the browser will selectt the vertically cropped image if the viewport has a max-width of 700px and the orientation is portrait.</p>
			    
				<p class="subtitle">Comparing the initial image solution verses the solution utilizing responsive images</p>
				<p>As you can see responsive images gives us the tools to not only avoid redundant downloads, but unlocks additional performance optimizations via the type attribute. Additionally it unlocks the capability for you to provide the best cropped image based on the layout of the image.</p>
				
				<p>To close, let's compare our initial implementation to the solution that utilizes the technology behind responsive images.</p>
				
				<div class="layout layout--halves">
					<div class="module">
						<p><strong>With Responsive Images</strong></p>
						<div class="picture__example">
							<article>
								<header>
									<picture>
										<source media="(max-width: 700px) and (orientation: portrait)"
										        srcset="imgs/hero-med-vert.jpg 245w
												        imgs/hero-large-vert.jpg 490w,
												        imgs/hero-xlarge-vert.jpg 980w">
										<img class="hero" 
											src="imgs/hero-xlarge.jpg" 
											srcset="imgs/hero-small.jpg 480w,
													imgs/hero-med.jpg 960w,
													imgs/hero-large.jpg 1920w"
											alt="A portrait painting of a woman on a couch">
									</picture>
									<p class="title">Capturing dramatic lighting in portrait painting</p>
								</header>
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
							</article>
						</div>
					</div>
					<div class="module">
						<p><strong>Without Responsive Images</strong></p>
						<div class="picture__example">
								<article>
									<header>
										<img class="hero" src="imgs/hero-xlarge.jpg" alt="A portrait painting of a woman on a couch" />
										<p class="title">Capturing dramatic lighting in portrait painting</p>
									</header>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu congue lorem. Nunc sagittis consectetur lectus, non volutpat massa iaculis porta. Duis vulputate est at tortor maximus condimentum. Cras tristique nec nisl sit amet dignissim. Sed interdum eget leo in hendrerit. Integer nisl nunc, posuere nec arcu non, tempor tincidunt enim. Quisque eget tortor ligula. Sed fringilla nisl id sem pretium elementum. Aenean in ex velit. Morbi aliquet ligula arcu, eget ornare mauris tempor eget. Vivamus purus dui, posuere sit amet tortor at, euismod consequat erat. Morbi elit turpis, malesuada a velit id, efficitur sollicitudin tellus. Donec vel sapien at mi ultricies iaculis.</p>
								</article>
							</div>
						</div>
					</div>				
				</div>
				
				<p>&copy; Copyright "Samantha" Oil on Canvas by Karen Whitworth. All Rights Reserved.</p> 
			</div>
		</div>
	</section>

</body>
</html>